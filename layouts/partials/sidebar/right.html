{{- $scope := default "homepage" .Scope -}}
{{- $context := .Context -}}
{{- with (index .Context.Site.Params.widgets $scope) -}}
    <aside class="sidebar right-sidebar sticky">
        {{ range $widget := . }}
            {{ if templates.Exists (printf "partials/widget/%s.html" .type) }}
                {{ partial (printf "widget/%s" .type) (dict "Context" $context "Params" .params) }}
            {{ else }}
                {{ warnf "Widget %s not found" .type }}
            {{ end }}
        {{ end }}
		<!--
			Spotify
			
			<section class="widget tagCloud">
			<div class="widget-icon">
				{{ partial "helper/icon" "brand-spotify" }}
			</div>
			<h2 class="widget-title section-title">Spotify</h2>

			<div class="tagCloud-tags">
				---Iframe go here----
			</div>
		</section>
		-->
    </aside>
{{ end }}